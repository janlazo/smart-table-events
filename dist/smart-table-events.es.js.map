{"version":3,"file":"smart-table-events.es.js","sources":["../index.js"],"sourcesContent":["export function emitter() {\n\tconst listenersLists = {};\n\tconst instance = {\n\t\ton(event, ...listeners) {\n\t\t\tlistenersLists[event] = (listenersLists[event] || []).concat(listeners);\n\t\t\treturn instance;\n\t\t},\n\t\tdispatch(event, ...args) {\n\t\t\tconst listeners = listenersLists[event] || [];\n\t\t\tfor (const listener of listeners) {\n\t\t\t\tlistener(...args);\n\t\t\t}\n\t\t\treturn instance;\n\t\t},\n\t\toff(event, ...listeners) {\n\t\t\tif (event === undefined) {\n\t\t\t\tObject.keys(listenersLists).forEach(ev => instance.off(ev));\n\t\t\t} else {\n\t\t\t\tconst list = listenersLists[event] || [];\n\t\t\t\tlistenersLists[event] = listeners.length ? list.filter(listener => !listeners.includes(listener)) : [];\n\t\t\t}\n\t\t\treturn instance;\n\t\t}\n\t};\n\treturn instance;\n}\n\nexport const proxyListener = eventMap => ({emitter}) => {\n\tconst proxy = {};\n\tconst eventListeners = {};\n\n\tfor (const ev of Object.keys(eventMap)) {\n\t\tconst method = eventMap[ev];\n\t\teventListeners[ev] = [];\n\t\tproxy[method] = function (...listeners) {\n\t\t\teventListeners[ev] = eventListeners[ev].concat(listeners);\n\t\t\temitter.on(ev, ...listeners);\n\t\t\treturn proxy;\n\t\t};\n\t}\n\n\treturn Object.assign(proxy, {\n\t\toff(ev) {\n\t\t\tif (!ev) {\n\t\t\t\tObject.keys(eventListeners).forEach(eventName => proxy.off(eventName));\n\t\t\t}\n\t\t\tif (eventListeners[ev]) {\n\t\t\t\temitter.off(ev, ...eventListeners[ev]);\n\t\t\t}\n\t\t\treturn proxy;\n\t\t}\n\t});\n};\n"],"names":[],"mappings":"AAAO,SAAS,OAAO,GAAG;CACzB,MAAM,cAAc,GAAG,EAAE,CAAC;CAC1B,MAAM,QAAQ,GAAG;EAChB,EAAE,CAAC,KAAK,EAAE,GAAG,SAAS,EAAE;GACvB,cAAc,CAAC,KAAK,CAAC,GAAG,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,EAAE,EAAE,MAAM,CAAC,SAAS,CAAC,CAAC;GACxE,OAAO,QAAQ,CAAC;GAChB;EACD,QAAQ,CAAC,KAAK,EAAE,GAAG,IAAI,EAAE;GACxB,MAAM,SAAS,GAAG,cAAc,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;GAC9C,KAAK,MAAM,QAAQ,IAAI,SAAS,EAAE;IACjC,QAAQ,CAAC,GAAG,IAAI,CAAC,CAAC;IAClB;GACD,OAAO,QAAQ,CAAC;GAChB;EACD,GAAG,CAAC,KAAK,EAAE,GAAG,SAAS,EAAE;GACxB,IAAI,KAAK,KAAK,SAAS,EAAE;IACxB,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,EAAE,IAAI,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC,CAAC;IAC5D,MAAM;IACN,MAAM,IAAI,GAAG,cAAc,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;IACzC,cAAc,CAAC,KAAK,CAAC,GAAG,SAAS,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,CAAC,QAAQ,IAAI,CAAC,SAAS,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC,GAAG,EAAE,CAAC;IACvG;GACD,OAAO,QAAQ,CAAC;GAChB;EACD,CAAC;CACF,OAAO,QAAQ,CAAC;CAChB;;AAED,AAAO,MAAM,aAAa,GAAG,QAAQ,IAAI,CAAC,CAAC,OAAO,CAAC,KAAK;CACvD,MAAM,KAAK,GAAG,EAAE,CAAC;CACjB,MAAM,cAAc,GAAG,EAAE,CAAC;;CAE1B,KAAK,MAAM,EAAE,IAAI,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,EAAE;EACvC,MAAM,MAAM,GAAG,QAAQ,CAAC,EAAE,CAAC,CAAC;EAC5B,cAAc,CAAC,EAAE,CAAC,GAAG,EAAE,CAAC;EACxB,KAAK,CAAC,MAAM,CAAC,GAAG,UAAU,GAAG,SAAS,EAAE;GACvC,cAAc,CAAC,EAAE,CAAC,GAAG,cAAc,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,SAAS,CAAC,CAAC;GAC1D,OAAO,CAAC,EAAE,CAAC,EAAE,EAAE,GAAG,SAAS,CAAC,CAAC;GAC7B,OAAO,KAAK,CAAC;GACb,CAAC;EACF;;CAED,OAAO,MAAM,CAAC,MAAM,CAAC,KAAK,EAAE;EAC3B,GAAG,CAAC,EAAE,EAAE;GACP,IAAI,CAAC,EAAE,EAAE;IACR,MAAM,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC,OAAO,CAAC,SAAS,IAAI,KAAK,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,CAAC;IACvE;GACD,IAAI,cAAc,CAAC,EAAE,CAAC,EAAE;IACvB,OAAO,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,cAAc,CAAC,EAAE,CAAC,CAAC,CAAC;IACvC;GACD,OAAO,KAAK,CAAC;GACb;EACD,CAAC,CAAC;CACH;;;;"}